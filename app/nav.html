<nav class="navbar">
    <div class="navbar-container">
        <a href="index.php" class="navbar-brand">AZIENDA OSPEDALIERA S.P.A.</a>
        <ul class="navbar-menu">
            <li class="navbar-item"><a href="index.php" class="navbar-link active">Home</a></li>
            <li class="navbar-item"><a href="ospedale.php" class="navbar-link">Ospedali</a></li>
            <li class="navbar-item"><a href="patologie.php" class="navbar-link">Patologie</a></li>
            <li class="navbar-item"><a href="ricoveri.php" class="navbar-link">Ricoveri</a></li>
            <li class="navbar-item"><a href="cittadini.php" class="navbar-link">Cittadini</a></li>
        </ul>
    </div>
</nav>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Get the filename of the current page from the URL (e.g., "patologie.php")
        // We use `split('/')` to handle cases where the site is in a subfolder.
        const currentPage = window.location.pathname.split('/').pop();

        // Get all the navigation links inside the menu.
        const navLinks = document.querySelectorAll('.navbar-menu .navbar-link');

        // Find and remove the 'active' class from whichever link has it by default.
        const currentActiveLink = document.querySelector('.navbar-link.active');
        if (currentActiveLink) {
            currentActiveLink.classList.remove('active');
        }

        // Loop through each navigation link to find the one that matches the current page.
        navLinks.forEach(link => {
            const linkPage = link.getAttribute('href').split('/').pop();

            // Handle the special case for the home page (URL might be "/" or "index.php")
            // and for all other pages.
            if (linkPage === currentPage || (currentPage === '' && linkPage === 'index.php')) {
                link.classList.add('active');
            }
        });
    });
</script>